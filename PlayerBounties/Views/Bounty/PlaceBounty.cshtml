@model PlayerBounties.Models.Bounty
		   
<script type="text/javascript">
	$(document).ready(function()
	{
		$("#FactionId").change(function()
		{
			var idPlayerClass = $(this).val();

			$.getJSON("/Bounty/LoadPlayerClassesByFaction", { factionId: idPlayerClass },

			function(factionData)
			{
				var select = $("#PlayerClassId");
				select.empty();
				select.append($('<option/>', {
					value: 0,
					text: ""
				}));

				$.each(factionData, function(index, itemData)
				{
					select.append($('<option/>', {
						value: itemData.Value,
						text: itemData.Text
					}));
				});
			});
		});

		$("#ShardId").change(function()
		{
			var idShard = $(this).val();

			$.getJSON("/Bounty/LoadCharactersByShard", { shardId: idShard },

			function(shardData)
			{
				var select = $("#CharacterList");
				select.empty();
				select.append($('<option/>', {
					value: 0,
					text: "Select a character"
				}));

				$.each(shardData, function(index, itemData)
				{
					select.append($('<option/>', {
						value: itemData.Value,
						text: itemData.Text
					}));
				});
			});
		});
	});

</script>

@using(Html.BeginForm("PlaceBounty", "Bounty", FormMethod.Post, new { id = "bountySearchForm" }))
{
	<table id="searchTable" cellspacing="0" cellpadding="5" border="0">
		<tr>
			<td class="inputLabelCell">
				@Html.Label("Character Name")
			</td>
			<td align="left">
				@Html.TextBox("characterNameTxt")
			</td>
		</tr>
		<tr>
			<td class="inputLabelCell">
				@Html.Label("Faction")
			</td>
			<td align="left">
				@Html.DropDownList("FactionId", String.Empty)
			</td>
		</tr>
		<tr>
			<td class="inputLabelCell">
				@Html.Label("Shard")
			</td>
			<td align="left">
				@Html.DropDownList("ShardId", String.Empty)
			</td>
		</tr>
		<tr>
			<td class="inputLabelCell">
				@Html.Label("Player Class")
			</td>
			<td align="left">
				@Html.DropDownList("PlayerClassId", String.Empty)
			</td>
		</tr>
		<tr>
			<td class="inputLabelCell">
				@Html.LabelFor(model => model.Amount)
			</td>
			<td align="left">
				@Html.EditorFor(model => model.Amount)
				@Html.ValidationMessageFor(model => model.Amount)
			</td>
		</tr>
		<tr>
			<td class="inputLabelCell">
				@Html.LabelFor(model => model.Reason)
			</td>
			<td align="left">
				@Html.EditorFor(model => model.Reason)
			</td>
		</tr>
		<tr>
			<td class="inputLabelCell">
				@Html.LabelFor(model => model.Message)
			</td>
			<td align="left">
				@Html.EditorFor(model => model.Message)
			</td>
		</tr>
		<tr>
			<td class="inputLabelCell">
				Requested By:
			</td>
			<td align="left">
				@Html.DropDownList("CharacterList", String.Empty) Don't see your character in the list...click here to create them
			</td>
		</tr>
	</table>
	
	<div class="rowBlank">
		@if(Request.IsAuthenticated)
		{
			<input id="placeBountyBtn" type="submit" value="Place Bounty" />
		}
		
		<input type="button" value="Cancel" onclick="window.history.back()"/>
	</div>
}